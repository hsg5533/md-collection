# 1. JPA란?

- 자바 ORM에 대한 API 표준 명세이고 인터페이스의 모음이다. 따라서 구현체가 없고 사용하기 위해서는 ORM프레임워크를 선택해야한다.
- 다양한 ORM프레임워크가 존재하지만 가장 대중적인 것은 하이버 네이트이다.
- JPA가 제공하는 API를 사용하면 객체를 DB에 저장하고 관리할 때, 개발자가 직접 SQL을 작성하지 않아도 된다.
- JPA가 개발자 대신 적절한 SQL을 생성해서 DB에 전달하고, 객체를 자동으로 Mapping 해준다.
- JPA는 내부적으로 JDBC API를 활용하는데, 개발자가 직접 JDBC API를 활용하면 패러다임 불일치, SQL 의존성 등으로 인해 효율성이 떨어진다. 이 때, JPA를 활용한다면 모든 SQL에 대해 개발자 대신 JPA가 자동으로 해결해 준다는 점에서 생산성을 크게 높인다.

# 2. ORM이란?

- ORM(Object-Relational Mapping)은 객체와 관계형 데이터베이스를 매핑한다는 뜻
- ORM 프레임워크는 객체와 테이블을 매핑해 패러다임의 불일치를 개발자 대신 해결해준다.객체는 객체대로 생성하고, 데이터베이스는 데이터베이스에 맞도록 설계를 가능하게 해주기 때문에 개발자는 이를 매핑하는 방법만 전달해주면 된다.

# 3. Hibernate이란?

- 자바 진영의 다양한 ORM 프레임워크 중 가장 많이 사용되는 성숙한 프레임워크
  이러한 Hibernate 기반으로 만들어진 ORM 기술 표준이 바로 JPA다.
  즉, JPA라는 ORM 기술 표준을 구현한 것이 Hibernate이므로, JPA를 사용하려면 Hibernate를 사용하면 된다.

## 3-1. SQL을 직접 다룰 때의 문제점

1. 반복적인 코드의 작성
   테이블이 100개 존재한다면 100개의 CRUD를 작성해야 한다.
   SQL 작성 -> JDBC API로 SQL 실행 -> 결과를 객체로 매핑 등

2. SQL 의존적 개발
   만약 테이블에 하나의 Column을 추가해야 한다면 모든 SQL의 변경이 필요하다.
   INSERT, UPDATE, SELECT 등 관련된 모든 쿼리와 메소드가 변경되어야 한다.
   만약 제대로 동작하지 않다면 직접 DAO를 열어 SQL을 확인해야 한다.
   논리적인 계층 분할이 어렵게 된다.

3. 패러다임의 불일치
   자바는 객체지향 언어지만 관계형 데이터베이스는 객체지향이 다루는 개념이 존재하지 않고
   서로 지향하는 목적이 다르기 때문에 이로 인해 패러다임의 불일치가 발생한다.
   객체 지향 프로그래밍은 추상화, 캡슐화, 정보은닉, 상속, 다형성 등 시스템의 복잡성을 제어할 수 있는 다양한 장치들을 제공한다.
   객체로 모델링을 하게 되면 이러한 많은 장점을 얻을 수 있다.
   하지만 객체를 저장하려고 할 때 상속을 받았거나 다른 객체를 참조하고 있어 문제가 발생한다.
   회원을 저장할 때 팀을 함께 저장하지 않았다면 팀이 사라져버릴 수 있다.
   서로 다른 목적 때문에 개발자가 중간에서 문제를 해결하기 위해 코드를 작성해 매핑해야 한다.

## 4. 상속

객체는 상속이 있지만 테이블은 상속이 없다. 그나마 유사한 슈퍼타입-서브타입이 존재
JDBC에서 상속 객체를 저장하기 위해서는 부모 객체용 INSERT와 자식 객체용 INSERT를 따로 작성해야 하고
조회도 JOIN을 통해 결과를 얻어 객체를 생성하는 모든 코드를 작성해야 한다.

## 5. 연관관계

객체는 참조를 통해 연관관계를 가지고 참조에 접근해 연관된 객체를 조회 → 참조가 있는 방향으로만의 참조가 가능(단방향)
테이블은 외래키를 사용해 다른 테이블과 연관관계를 가지고 조인을 통해 테이블을 조회 → 양방향 모두의 참조가 가능하다.
이를 맞추기 위해 객체에 외래키로 모델링을 하게 되면 저장은 편리하지만 객체는 연관된 객체를 참조할 수 없다는 문제가 발생한다.
반대로 연관된 객체를 저장하면 테이블에 저장하거나 조회할 때 개발자가 모든 변환 역할을 해줘야 한다.
